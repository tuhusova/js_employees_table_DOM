{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const tableContainer = document.querySelector('body');\n  const formContainer = document.createElement('div');\n\n  formContainer.classList.add('new-employee-form-container');\n\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n  form.id = 'newEmployeeForm';\n\n  const fields = [\n    {\n      label: 'Name',\n      id: 'name',\n      type: 'text',\n      required: true,\n      dataQa: 'name',\n      minLength: 4,\n    },\n    {\n      label: 'Position',\n      id: 'position',\n      type: 'text',\n      dataQa: 'position',\n      minLength: 4,\n    },\n    {\n      label: 'Office',\n      id: 'office',\n      type: 'select',\n      required: true,\n      dataQa: 'office',\n    },\n    {\n      label: 'Age',\n      id: 'age',\n      type: 'number',\n      required: true,\n      dataQa: 'age',\n    },\n    {\n      label: 'Salary',\n      id: 'salary',\n      type: 'number',\n      dataQa: 'salary',\n    },\n  ];\n\n  fields.forEach((field) => {\n    const label = document.createElement('label');\n\n    label.setAttribute('for', field.id);\n    label.textContent = `${field.label}:`;\n\n    let input;\n\n    if (field.type === 'select') {\n      input = document.createElement('select');\n      input.setAttribute('id', field.id);\n      input.setAttribute('name', field.id);\n      input.setAttribute('required', field.required);\n      input.setAttribute('data-qa', field.dataQa);\n\n      const options = [\n        'Tokyo',\n        'Singapore',\n        'London',\n        'New York',\n        'Edinburgh',\n        'San Francisco',\n      ];\n\n      options.forEach((optionText) => {\n        const option = document.createElement('option');\n\n        option.value = optionText;\n        option.textContent = optionText;\n        input.appendChild(option);\n      });\n    } else {\n      input = document.createElement('input');\n      input.setAttribute('type', field.type);\n      input.setAttribute('id', field.id);\n      input.setAttribute('name', field.id);\n      input.setAttribute('data-qa', field.dataQa);\n    }\n\n    label.appendChild(input);\n    form.appendChild(label);\n  });\n\n  const submitButton = document.createElement('button');\n\n  submitButton.type = 'submit';\n  submitButton.textContent = 'Save to table';\n  form.appendChild(submitButton);\n\n  formContainer.appendChild(form);\n  tableContainer.appendChild(formContainer);\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const nam = document.getElementById('name').value.trim();\n    const position = document.getElementById('position').value.trim();\n    const office = document.getElementById('office').value;\n    const age = parseInt(document.getElementById('age').value);\n    const salary = parseInt(document.getElementById('salary').value);\n\n    let isValid = true;\n\n    clearNotifications();\n\n    if (nam.length < 4) {\n      showNotification('error', 'Name must have at least 4 characters.');\n      isValid = false;\n    }\n\n    if (!/^[a-zA-Zа-яА-ЯёЁ]+$/.test(nam)) {\n      showNotification('error', 'Name must contain only letters.');\n      isValid = false;\n    }\n\n    if (position === '' || position.length < 4) {\n      showNotification('error', 'Position must have at least 4 characters.');\n      isValid = false;\n    }\n\n    if (isNaN(age)) {\n      showNotification('Age is not a valid number');\n      isValid = false;\n    } else if (age < 18 || age > 90) {\n      showNotification('Age must be between 18 and 90');\n      isValid = false;\n    } else {\n      showNotification('Age is valid:', age);\n    }\n\n    if (isNaN(salary)) {\n      showNotification('error', 'Salary must be a number.');\n      isValid = false;\n    }\n\n    if (!isValid) {\n      return;\n    }\n\n    const row = document.createElement('tr');\n\n    row.innerHTML = `\n      <td>${nam}</td>\n      <td>${position}</td>\n      <td>${office}</td>\n      <td>${age}</td>\n      <td>$${salary.toLocaleString()}</td>\n    `;\n\n    document.querySelector('tbody').appendChild(row);\n\n    document.getElementById('newEmployeeForm').reset();\n    showNotification('success', 'New employee added successfully');\n  });\n\n  function showNotification(type, message) {\n    const notification = document.createElement('div');\n\n    notification.classList.add(type === 'success' ? 'success' : 'error');\n    notification.setAttribute('data-qa', 'notification');\n    notification.textContent = message;\n    document.body.prepend(notification);\n    setTimeout(() => notification.remove(), 3000);\n  }\n\n  function clearNotifications() {\n    const notifications = document.querySelectorAll('[data-qa=\"notification\"]');\n\n    notifications.forEach((notification) => notification.remove());\n  }\n\n  const table = document.querySelector('table');\n  const headers = table.querySelectorAll('thead th');\n  let sortOrder = 'asc';\n\n  headers.forEach((header, index) => {\n    header.addEventListener('click', () => {\n      sortTable(index);\n    });\n  });\n\n  function sortTable(columnIndex) {\n    const rows = Array.from(table.querySelectorAll('tbody tr'));\n    const column = headers[columnIndex].textContent.trim().toLowerCase();\n    const isSalaryColumn = column === 'salary';\n\n    rows.sort((rowA, rowB) => {\n      let cellA = rowA.cells[columnIndex].textContent;\n      let cellB = rowB.cells[columnIndex].textContent;\n\n      if (isSalaryColumn) {\n        cellA = parseFloat(cellA.replace(/[^0-9.-]+/g, ''));\n        cellB = parseFloat(cellB.replace(/[^0-9.-]+/g, ''));\n      }\n\n      const direction = sortOrder === 'asc' ? 1 : -1;\n\n      return (cellA > cellB ? 1 : -1) * direction;\n    });\n\n    rows.forEach((row) => {\n      table.querySelector('tbody').appendChild(row);\n    });\n\n    sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';\n  }\n\n  table.addEventListener('click', (ev) => {\n    if (ev.target.tagName === 'TD') {\n      const rows = table.querySelectorAll('tbody tr');\n\n      rows.forEach((row) => row.classList.remove('active'));\n\n      const clickedRow = ev.target.closest('tr');\n\n      clickedRow.classList.add('active');\n    }\n  });\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}